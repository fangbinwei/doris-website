"use strict";(self.webpackChunkselectdb_portal=self.webpackChunkselectdb_portal||[]).push([[21662],{3905:(t,e,a)=>{a.d(e,{Zo:()=>s,kt:()=>N});var r=a(67294);function n(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){n(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function i(t,e){if(null==t)return{};var a,r,n=function(t,e){if(null==t)return{};var a,r,n={},l=Object.keys(t);for(r=0;r<l.length;r++)a=l[r],e.indexOf(a)>=0||(n[a]=t[a]);return n}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)a=l[r],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}var d=r.createContext({}),p=function(t){var e=r.useContext(d),a=e;return t&&(a="function"==typeof t?t(e):o(o({},e),t)),a},s=function(t){var e=p(t.components);return r.createElement(d.Provider,{value:e},t.children)},c="mdxType",m={inlineCode:"code",wrapper:function(t){var e=t.children;return r.createElement(r.Fragment,{},e)}},k=r.forwardRef((function(t,e){var a=t.components,n=t.mdxType,l=t.originalType,d=t.parentName,s=i(t,["components","mdxType","originalType","parentName"]),c=p(a),k=n,N=c["".concat(d,".").concat(k)]||c[k]||m[k]||l;return a?r.createElement(N,o(o({ref:e},s),{},{components:a})):r.createElement(N,o({ref:e},s))}));function N(t,e){var a=arguments,n=e&&e.mdxType;if("string"==typeof t||n){var l=a.length,o=new Array(l);o[0]=k;var i={};for(var d in e)hasOwnProperty.call(e,d)&&(i[d]=e[d]);i.originalType=t,i[c]="string"==typeof t?t:n,o[1]=i;for(var p=2;p<l;p++)o[p]=a[p];return r.createElement.apply(null,o)}return r.createElement.apply(null,a)}k.displayName="MDXCreateElement"},38658:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>d,contentTitle:()=>o,default:()=>c,frontMatter:()=>l,metadata:()=>i,toc:()=>p});var r=a(87462),n=(a(67294),a(3905));const l={title:"Doris On JDBC",language:"en"},o=void 0,i={unversionedId:"ecosystem/external-table/jdbc-of-doris",id:"version-dev/ecosystem/external-table/jdbc-of-doris",title:"Doris On JDBC",description:"\x3c!--",source:"@site/versioned_docs/version-dev/ecosystem/external-table/jdbc-of-doris.md",sourceDirName:"ecosystem/external-table",slug:"/ecosystem/external-table/jdbc-of-doris",permalink:"/docs/dev/ecosystem/external-table/jdbc-of-doris",draft:!1,editUrl:"https://github.com/apache/doris/edit/master/docs/en/docs/ecosystem/external-table/jdbc-of-doris.md",tags:[],version:"dev",frontMatter:{title:"Doris On JDBC",language:"en"},sidebar:"docs",previous:{title:"Doris On ODBC",permalink:"/docs/dev/ecosystem/external-table/odbc-of-doris"},next:{title:"Doris On Hive",permalink:"/docs/dev/ecosystem/external-table/hive-of-doris"}},d={},p=[{value:"Instructions",id:"instructions",level:2},{value:"Create JDBC external table in Doris",id:"create-jdbc-external-table-in-doris",level:3},{value:"1. Create JDBC external table through JDBC_Resource",id:"1-create-jdbc-external-table-through-jdbc_resource",level:4},{value:"Query usage",id:"query-usage",level:3},{value:"Data write",id:"data-write",level:3},{value:"Transaction",id:"transaction",level:4},{value:"1.Mysql",id:"1mysql",level:4},{value:"2.PostgreSQL",id:"2postgresql",level:4},{value:"3.SQLServer",id:"3sqlserver",level:4},{value:"4.oracle",id:"4oracle",level:4},{value:"4.ClickHouse",id:"4clickhouse",level:4},{value:"Type matching",id:"type-matching",level:2},{value:"MySQL",id:"mysql",level:3},{value:"PostgreSQL",id:"postgresql",level:3},{value:"Oracle",id:"oracle",level:3},{value:"SQL server",id:"sql-server",level:3},{value:"ClickHouse",id:"clickhouse",level:3},{value:"Q&amp;A",id:"qa",level:2}],s={toc:p};function c(t){let{components:e,...a}=t;return(0,n.kt)("wrapper",(0,r.Z)({},s,a,{components:e,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"jdbc-external-table-of-doris"},"JDBC External Table Of Doris"),(0,n.kt)("version",{since:"1.2.0"},(0,n.kt)("p",null,"JDBC External Table Of Doris provides Doris to access external tables through the standard interface (JDBC) of database access. External tables save the tedious data import work, allowing Doris to have the ability to access various databases, and with the help of Doris's capabilities to solve data analysis problems with external tables:"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Support various data sources to access Doris"),(0,n.kt)("li",{parentName:"ol"},"Supports Doris's joint query with tables in various data sources for more complex analysis operations")),(0,n.kt)("p",null,"This document mainly introduces how to use this function.")),(0,n.kt)("h2",{id:"instructions"},"Instructions"),(0,n.kt)("h3",{id:"create-jdbc-external-table-in-doris"},"Create JDBC external table in Doris"),(0,n.kt)("p",null,"Specific table building syntax reference\uff1a",(0,n.kt)("a",{parentName:"p",href:"/docs/dev/sql-manual/sql-reference/Data-Definition-Statements/Create/CREATE-TABLE"},"CREATE TABLE")),(0,n.kt)("h4",{id:"1-create-jdbc-external-table-through-jdbc_resource"},"1. Create JDBC external table through JDBC_Resource"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-sql"},'CREATE EXTERNAL RESOURCE jdbc_resource\nproperties (\n    "type"="jdbc",\n    "user"="root",\n    "password"="123456",\n    "jdbc_url"="jdbc:mysql://192.168.0.1:3306/test",\n    "driver_url"="http://IP:port/mysql-connector-java-5.1.47.jar",\n    "driver_class"="com.mysql.jdbc.Driver"\n);\n     \nCREATE EXTERNAL TABLE `baseall_mysql` (\n  `k1` tinyint(4) NULL,\n  `k2` smallint(6) NULL,\n  `k3` int(11) NULL,\n  `k4` bigint(20) NULL,\n  `k5` decimal(9, 3) NULL\n) ENGINE=JDBC\nPROPERTIES (\n"resource" = "jdbc_resource",\n"table" = "baseall",\n"table_type"="mysql"\n);\n')),(0,n.kt)("p",null,"Parameter Description\uff1a"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,n.kt)("th",{parentName:"tr",align:null},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("strong",{parentName:"td"},"type")),(0,n.kt)("td",{parentName:"tr",align:null},'"jdbc", Required flag of Resource Type \u3002')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("strong",{parentName:"td"},"user")),(0,n.kt)("td",{parentName:"tr",align:null},"Username used to access the external database\u3002")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("strong",{parentName:"td"},"password")),(0,n.kt)("td",{parentName:"tr",align:null},"Password information corresponding to the user\u3002")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("strong",{parentName:"td"},"jdbc_url")),(0,n.kt)("td",{parentName:"tr",align:null},'The URL protocol of JDBC, including database type, IP address, port number and database name, has different formats for different database protocols. for example mysql: "jdbc:mysql://127.0.0.1:3306/test"\u3002')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("strong",{parentName:"td"},"driver_class")),(0,n.kt)("td",{parentName:"tr",align:null},"The class name of the driver package for accessing the external database\uff0cfor example mysql:com.mysql.jdbc.Driver.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("strong",{parentName:"td"},"driver_url")),(0,n.kt)("td",{parentName:"tr",align:null},'The package driver URL used to download and access external databases\u3002http://IP:port/mysql-connector-java-5.1.47.jar . During the local test of one BE, the jar package can be placed in the local path, "driver_url"=\u201c file:///home/disk1/pathTo/mysql-connector-java-5.1.47.jar ", In case of multiple BE test,  Must ensure that they have the same path information')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("strong",{parentName:"td"},"resource")),(0,n.kt)("td",{parentName:"tr",align:null},"The resource name that depends on when creating the external table in Doris corresponds to the name when creating the resource in the previous step.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("strong",{parentName:"td"},"table")),(0,n.kt)("td",{parentName:"tr",align:null},"The table name mapped to the external database when creating the external table in Doris.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("strong",{parentName:"td"},"table_type")),(0,n.kt)("td",{parentName:"tr",align:null},"When creating an appearance in Doris, the table comes from that database. for example mysql,postgresql,sqlserver,oracle.")))),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("strong",{parentName:"p"},"Notice:")),(0,n.kt)("p",{parentName:"blockquote"},"If you use the local path method, the jar package that the database driver depends on, the FE and BE nodes must be placed here")),(0,n.kt)("version",{since:"1.2.1"},(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"After 1.2.1, you can put the driver in the ",(0,n.kt)("inlineCode",{parentName:"p"},"jdbc_drivers")," directory of FE/BE, and directly specify the file name, such as: ",(0,n.kt)("inlineCode",{parentName:"p"},'"driver_url" = "mysql-connector-java-5.1.47.jar "'),". The system will automatically look for files in the ",(0,n.kt)("inlineCode",{parentName:"p"},"jdbc_drivers")," directory."))),(0,n.kt)("h3",{id:"query-usage"},"Query usage"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"select * from mysql_table where k1 > 1000 and k3 ='term';\n")),(0,n.kt)("h3",{id:"data-write"},"Data write"),(0,n.kt)("p",null,"After the JDBC external table is create in Doris, the data can be written directly by the ",(0,n.kt)("inlineCode",{parentName:"p"},"insert into")," statement, the query results of Doris can be written to the JDBC external table, or the data can be imported from one JDBC table to another."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'insert into mysql_table values(1, "doris");\ninsert into mysql_table select * from table;\n')),(0,n.kt)("h4",{id:"transaction"},"Transaction"),(0,n.kt)("p",null,"The data of Doris is written to the external table by a group of batch. If the import is interrupted, the data written before may need to be rolled back. Therefore, the JDBC external table supports transactions when data is written. Transaction support needs to be supported set by session variable: ",(0,n.kt)("inlineCode",{parentName:"p"},"enable_odbc_transcation"),". ODBC transactions are also controlled by this variable."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"set enable_odbc_transcation = true; \n")),(0,n.kt)("p",null,"Transactions ensure the atomicity of JDBC external table writing, but it will reduce the performance of data writing, so we can consider turning on the way as appropriate."),(0,n.kt)("h4",{id:"1mysql"},"1.Mysql"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Mysql Version"),(0,n.kt)("th",{parentName:"tr",align:null},"Mysql JDBC Driver Version"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"8.0.30"),(0,n.kt)("td",{parentName:"tr",align:null},"mysql-connector-java-5.1.47.jar")))),(0,n.kt)("h4",{id:"2postgresql"},"2.PostgreSQL"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"PostgreSQL Version"),(0,n.kt)("th",{parentName:"tr",align:null},"PostgreSQL JDBC Driver Version"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"14.5"),(0,n.kt)("td",{parentName:"tr",align:null},"postgresql-42.5.0.jar")))),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-sql"},'CREATE EXTERNAL RESOURCE jdbc_pg\nproperties (\n    "type"="jdbc",\n    "user"="postgres",\n    "password"="123456",\n    "jdbc_url"="jdbc:postgresql://127.0.0.1:5442/postgres?currentSchema=doris_test",\n    "driver_url"="http://127.0.0.1:8881/postgresql-42.5.0.jar",\n    "driver_class"="org.postgresql.Driver"\n);\n\nCREATE EXTERNAL TABLE `ext_pg` (\n  `k1` int\n) ENGINE=JDBC\nPROPERTIES (\n"resource" = "jdbc_pg",\n"table" = "pg_tbl",\n"table_type"="postgresql"\n);\n')),(0,n.kt)("h4",{id:"3sqlserver"},"3.SQLServer"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"SQLserver Version"),(0,n.kt)("th",{parentName:"tr",align:null},"SQLserver JDBC Driver Version"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"2022"),(0,n.kt)("td",{parentName:"tr",align:null},"mssql-jdbc-11.2.0.jre8.jar")))),(0,n.kt)("h4",{id:"4oracle"},"4.oracle"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Oracle Version"),(0,n.kt)("th",{parentName:"tr",align:null},"Oracle JDBC Driver Version"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"11"),(0,n.kt)("td",{parentName:"tr",align:null},"ojdbc6.jar")))),(0,n.kt)("p",null,"At present, only this version has been tested, and other versions will be added after testing"),(0,n.kt)("h4",{id:"4clickhouse"},"4.ClickHouse"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"ClickHouse Version"),(0,n.kt)("th",{parentName:"tr",align:null},"ClickHouse JDBC Driver Version"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"22"),(0,n.kt)("td",{parentName:"tr",align:null},"clickhouse-jdbc-0.3.2-patch11-all.jar")))),(0,n.kt)("h2",{id:"type-matching"},"Type matching"),(0,n.kt)("p",null,"There are different data types among different databases. Here is a list of the matching between the types in each database and the data types in Doris."),(0,n.kt)("h3",{id:"mysql"},"MySQL"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"center"},"MySQL"),(0,n.kt)("th",{parentName:"tr",align:"center"},"Doris"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"BOOLEAN"),(0,n.kt)("td",{parentName:"tr",align:"center"},"BOOLEAN")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"BIT(1)"),(0,n.kt)("td",{parentName:"tr",align:"center"},"BOOLEAN")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"TINYINT"),(0,n.kt)("td",{parentName:"tr",align:"center"},"TINYINT")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"SMALLINT"),(0,n.kt)("td",{parentName:"tr",align:"center"},"SMALLINT")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"INT"),(0,n.kt)("td",{parentName:"tr",align:"center"},"INT")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"BIGINT"),(0,n.kt)("td",{parentName:"tr",align:"center"},"BIGINT")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"BIGINT UNSIGNED"),(0,n.kt)("td",{parentName:"tr",align:"center"},"LARGEINT")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"VARCHAR"),(0,n.kt)("td",{parentName:"tr",align:"center"},"VARCHAR")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"DATE"),(0,n.kt)("td",{parentName:"tr",align:"center"},"DATE")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"FLOAT"),(0,n.kt)("td",{parentName:"tr",align:"center"},"FLOAT")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"DATETIME"),(0,n.kt)("td",{parentName:"tr",align:"center"},"DATETIME")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"DOUBLE"),(0,n.kt)("td",{parentName:"tr",align:"center"},"DOUBLE")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"DECIMAL"),(0,n.kt)("td",{parentName:"tr",align:"center"},"DECIMAL")))),(0,n.kt)("h3",{id:"postgresql"},"PostgreSQL"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"center"},"PostgreSQL"),(0,n.kt)("th",{parentName:"tr",align:"center"},"Doris"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"BOOLEAN"),(0,n.kt)("td",{parentName:"tr",align:"center"},"BOOLEAN")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"SMALLINT"),(0,n.kt)("td",{parentName:"tr",align:"center"},"SMALLINT")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"INT"),(0,n.kt)("td",{parentName:"tr",align:"center"},"INT")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"BIGINT"),(0,n.kt)("td",{parentName:"tr",align:"center"},"BIGINT")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"VARCHAR"),(0,n.kt)("td",{parentName:"tr",align:"center"},"VARCHAR")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"DATE"),(0,n.kt)("td",{parentName:"tr",align:"center"},"DATE")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"TIMESTAMP"),(0,n.kt)("td",{parentName:"tr",align:"center"},"DATETIME")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"REAL"),(0,n.kt)("td",{parentName:"tr",align:"center"},"FLOAT")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"FLOAT"),(0,n.kt)("td",{parentName:"tr",align:"center"},"DOUBLE")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"DECIMAL"),(0,n.kt)("td",{parentName:"tr",align:"center"},"DECIMAL")))),(0,n.kt)("h3",{id:"oracle"},"Oracle"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"center"},"Oracle"),(0,n.kt)("th",{parentName:"tr",align:"center"},"Doris"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"VARCHAR"),(0,n.kt)("td",{parentName:"tr",align:"center"},"VARCHAR")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"DATE"),(0,n.kt)("td",{parentName:"tr",align:"center"},"DATETIME")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"SMALLINT"),(0,n.kt)("td",{parentName:"tr",align:"center"},"SMALLINT")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"INT"),(0,n.kt)("td",{parentName:"tr",align:"center"},"INT")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"REAL"),(0,n.kt)("td",{parentName:"tr",align:"center"},"DOUBLE")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"FLOAT"),(0,n.kt)("td",{parentName:"tr",align:"center"},"DOUBLE")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"NUMBER"),(0,n.kt)("td",{parentName:"tr",align:"center"},"DECIMAL")))),(0,n.kt)("h3",{id:"sql-server"},"SQL server"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"center"},"SQLServer"),(0,n.kt)("th",{parentName:"tr",align:"center"},"Doris"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"BIT"),(0,n.kt)("td",{parentName:"tr",align:"center"},"BOOLEAN")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"TINYINT"),(0,n.kt)("td",{parentName:"tr",align:"center"},"TINYINT")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"SMALLINT"),(0,n.kt)("td",{parentName:"tr",align:"center"},"SMALLINT")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"INT"),(0,n.kt)("td",{parentName:"tr",align:"center"},"INT")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"BIGINT"),(0,n.kt)("td",{parentName:"tr",align:"center"},"BIGINT")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"VARCHAR"),(0,n.kt)("td",{parentName:"tr",align:"center"},"VARCHAR")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"DATE"),(0,n.kt)("td",{parentName:"tr",align:"center"},"DATE")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"DATETIME"),(0,n.kt)("td",{parentName:"tr",align:"center"},"DATETIME")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"REAL"),(0,n.kt)("td",{parentName:"tr",align:"center"},"FLOAT")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"FLOAT"),(0,n.kt)("td",{parentName:"tr",align:"center"},"DOUBLE")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"DECIMAL"),(0,n.kt)("td",{parentName:"tr",align:"center"},"DECIMAL")))),(0,n.kt)("h3",{id:"clickhouse"},"ClickHouse"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"center"},"ClickHouse"),(0,n.kt)("th",{parentName:"tr",align:"center"},"Doris"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"BOOLEAN"),(0,n.kt)("td",{parentName:"tr",align:"center"},"BOOLEAN")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"CHAR"),(0,n.kt)("td",{parentName:"tr",align:"center"},"CHAR")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"VARCHAR"),(0,n.kt)("td",{parentName:"tr",align:"center"},"VARCHAR")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"STRING"),(0,n.kt)("td",{parentName:"tr",align:"center"},"STRING")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"DATE"),(0,n.kt)("td",{parentName:"tr",align:"center"},"DATE")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"Float32"),(0,n.kt)("td",{parentName:"tr",align:"center"},"FLOAT")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"Float64"),(0,n.kt)("td",{parentName:"tr",align:"center"},"DOUBLE")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"Int8"),(0,n.kt)("td",{parentName:"tr",align:"center"},"TINYINT")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"Int16"),(0,n.kt)("td",{parentName:"tr",align:"center"},"SMALLINT")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"Int32"),(0,n.kt)("td",{parentName:"tr",align:"center"},"INT")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"Int64"),(0,n.kt)("td",{parentName:"tr",align:"center"},"BIGINT")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"Int128"),(0,n.kt)("td",{parentName:"tr",align:"center"},"LARGEINT")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"DATETIME"),(0,n.kt)("td",{parentName:"tr",align:"center"},"DATETIME")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"DECIMAL"),(0,n.kt)("td",{parentName:"tr",align:"center"},"DECIMAL")))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Note:")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"For some specific types in ClickHouse, For example, UUID,IPv4,IPv6, and Enum8 can be matched with Doris's Varchar/String type. However, in the display of IPv4 and IPv6, an extra ",(0,n.kt)("inlineCode",{parentName:"li"},"/")," is displayed before the data, which needs to be processed by the ",(0,n.kt)("inlineCode",{parentName:"li"},"split_part")," function"),(0,n.kt)("li",{parentName:"ul"},"For the Geo type Point of ClickHouse, the match cannot be made")),(0,n.kt)("h2",{id:"qa"},"Q&A"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Besides mysql, Oracle, PostgreSQL, SQL Server and ClickHouse support more databases")),(0,n.kt)("p",null,"At present, Doris only adapts to MySQL, Oracle, PostgreSQL, SQL Server and ClickHouse.  And planning to adapt other databases. In principle, any database that supports JDBC access can be accessed through the JDBC facade. If you need to access other appearances, you are welcome to modify the code and contribute to Doris."),(0,n.kt)("ol",{start:2},(0,n.kt)("li",{parentName:"ol"},"Read the Emoji expression on the surface of MySQL, and there is garbled code")),(0,n.kt)("p",null,"When Doris makes a JDBC appearance connection, because the default utf8 code in MySQL is utf8mb3, it cannot represent Emoji expressions that require 4-byte coding. Here, you need to set the code of the corresponding column to utf8mb4, set the server code to utf8mb4, and do not configure characterencoding in the JDBC URL when creating the MySQL appearance (this attribute does not support utf8mb4. If non utf8mb4 is configured, the expression cannot be written. Therefore, it should be left blank and not configured.)"),(0,n.kt)("ol",{start:3},(0,n.kt)("li",{parentName:"ol"},'When reading the mysql table about DateTime="0000:00:00 00:00:00", an error is reported: "CAUSED BY: DataReadException: Zero date value prohibited"')),(0,n.kt)("p",null,'This is because the default handling of this illegal DateTime in JDBC is to throw an exception. You can control this behavior through the parameter zeroDateTimeBehavior\nOptional parameters: EXCEPTION, CONVERT_TO_NULL and ROUND are respectively abnormal error reports, converted to NULL values and converted to "0001-01-01 00:00:00";\nYou can add: "jdbc_url"="jdbc: mysql://IP:PORT/doris_test?zeroDateTimeBehavior=convertToNull "'),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"Configuration items can be modified globally\n\nModify the my.ini file in the MySQL directory (the Linux system is the my.cnf file in the etc directory)\n[client]\ndefault-character-set=utf8mb4\n\n[mysql]\nSet MySQL default character set\ndefault-character-set=utf8mb4\n\n[mysqld]\nSet up MySQL character set server\ncharacter-set-server=utf8mb4\ncollation-server=utf8mb4_unicode_ci\ninit_connect='SET NAMES utf8mb4\n\nModify the type of corresponding table and column\nALTER TABLE table_name MODIFY  colum_name  VARCHAR(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;\n\nALTER TABLE table_name CHARSET=utf8mb4;\n\nSET NAMES utf8mb4\n\n")))}c.isMDXComponent=!0}}]);