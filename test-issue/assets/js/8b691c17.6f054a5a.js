"use strict";(self.webpackChunkselectdb_portal=self.webpackChunkselectdb_portal||[]).push([[10361],{3905:(e,a,t)=>{t.d(a,{Zo:()=>d,kt:()=>g});var n=t(67294);function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function i(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function o(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?i(Object(t),!0).forEach((function(a){r(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function s(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var l=n.createContext({}),c=function(e){var a=n.useContext(l),t=a;return e&&(t="function"==typeof e?e(a):o(o({},a),e)),t},d=function(e){var a=c(e.components);return n.createElement(l.Provider,{value:a},e.children)},h="mdxType",p={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},u=n.forwardRef((function(e,a){var t=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),h=c(t),u=r,g=h["".concat(l,".").concat(u)]||h[u]||p[u]||i;return t?n.createElement(g,o(o({ref:a},d),{},{components:t})):n.createElement(g,o({ref:a},d))}));function g(e,a){var t=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var i=t.length,o=new Array(i);o[0]=u;var s={};for(var l in a)hasOwnProperty.call(a,l)&&(s[l]=a[l]);s.originalType=e,s[h]="string"==typeof e?e:r,o[1]=s;for(var c=2;c<i;c++)o[c]=t[c];return n.createElement.apply(null,o)}return n.createElement.apply(null,t)}u.displayName="MDXCreateElement"},23074:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>c});var n=t(87462),r=(t(67294),t(3905));const i={title:"Release Doris Manager",language:"en"},o=void 0,s={unversionedId:"release-and-verify/release-doris-manager",id:"release-and-verify/release-doris-manager",title:"Release Doris Manager",description:"\x3c!--",source:"@site/community/release-and-verify/release-doris-manager.md",sourceDirName:"release-and-verify",slug:"/release-and-verify/release-doris-manager",permalink:"/community/release-and-verify/release-doris-manager",draft:!1,tags:[],version:"current",frontMatter:{title:"Release Doris Manager",language:"en"},sidebar:"community",previous:{title:"Release Doris Connectors",permalink:"/community/release-and-verify/release-doris-connectors"},next:{title:"Complete Release",permalink:"/community/release-and-verify/release-complete"}},l={},c=[{value:"ready to publish",id:"ready-to-publish",level:2},{value:"prepare branch",id:"prepare-branch",level:2},{value:"clean up issues",id:"clean-up-issues",level:2},{value:"Merge necessary patches",id:"merge-necessary-patches",level:2},{value:"Verify branch",id:"verify-branch",level:2},{value:"Stability Test",id:"stability-test",level:3},{value:"Compile and verify",id:"compile-and-verify",level:3},{value:"Community release voting process",id:"community-release-voting-process",level:2},{value:"tag",id:"tag",level:3},{value:"Package, sign and upload",id:"package-sign-and-upload",level:3},{value:"Email the community dev@doris.apache.org to vote",id:"email-the-community-devdorisapacheorg-to-vote",level:3},{value:"After voting, send Result email",id:"after-voting-send-result-email",level:3},{value:"Send Result email to general@incubator.apache.org",id:"send-result-email-to-generalincubatorapacheorg",level:3},{value:"Finish publishing",id:"finish-publishing",level:2}],d={toc:c};function h(e){let{components:a,...t}=e;return(0,r.kt)("wrapper",(0,n.Z)({},d,t,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"publish-doris-manager"},"Publish Doris Manager"),(0,r.kt)("p",null,"Its codebase is separate from the main Doris codebase at:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/apache/doris-manager"},"https://github.com/apache/doris-manager"))),(0,r.kt)("h2",{id:"ready-to-publish"},"ready to publish"),(0,r.kt)("p",null,"First, refer to the ",(0,r.kt)("a",{parentName:"p",href:"/community/release-and-verify/release-prepare"},"release preparation")," documentation for release preparation."),(0,r.kt)("h2",{id:"prepare-branch"},"prepare branch"),(0,r.kt)("p",null,"Before publishing, you need to create a new branch. E.g:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"$ git checkout -b branch-1.0.0\n")),(0,r.kt)("p",null,"This branch needs to be fully tested, so that functions are available, bugs are closed, and important bugs are fixed. This process requires waiting for the community to see if the necessary patch needs to be merged in this release, and if so, cherry-pick it to the release branch."),(0,r.kt)("h2",{id:"clean-up-issues"},"clean up issues"),(0,r.kt)("p",null,"Go through all issues that belong to this version, close the ones that have been completed, and postpone them to a later version if they cannot be completed"),(0,r.kt)("h2",{id:"merge-necessary-patches"},"Merge necessary patches"),(0,r.kt)("p",null,"During the release waiting process, there may be more important patches merged. If someone in the community says that there are important bugs that need to be merged, then the Release Manager needs to evaluate and merge important patches into the release branch"),(0,r.kt)("h2",{id:"verify-branch"},"Verify branch"),(0,r.kt)("h3",{id:"stability-test"},"Stability Test"),(0,r.kt)("p",null,"Give the prepared branch to QA students for stability testing. If there is a problem that needs to be fixed during the testing process, if there is a problem that needs to be fixed during the testing process, after the repair is completed, the PR that fixes the problem needs to be merged into the branch of the to-be-released version."),(0,r.kt)("p",null,"After the entire branch is stable, the release version can be prepared."),(0,r.kt)("h3",{id:"compile-and-verify"},"Compile and verify"),(0,r.kt)("p",null,"Please refer to the compilation documentation for compilation to ensure that the source code is compiled correctly."),(0,r.kt)("h2",{id:"community-release-voting-process"},"Community release voting process"),(0,r.kt)("h3",{id:"tag"},"tag"),(0,r.kt)("p",null,"When the above branch is relatively stable, you can tag this branch."),(0,r.kt)("p",null,"E.g:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},'$ git checkout branch-1.0.0\n$ git tag -a 1.0.0-rc01 -m "doris manager 1.0.0 release candidate 01"\n$ git push origin 1.0.0-rc01\nCounting objects: 1, done.\nWriting objects: 100% (1/1), 165 bytes | 0 bytes/s, done.\nTotal 1 (delta 0), reused 0 (delta 0)\nTo git@github.com:apache/incubator-doris-manager.git\n * [new tag] 1.0.0-rc01 -> 1.0.0-rc01\n\n$ git tag\n')),(0,r.kt)("h3",{id:"package-sign-and-upload"},"Package, sign and upload"),(0,r.kt)("p",null,"In the following steps, you also need to log in to the user account directly through a terminal such as SecureCRT. You cannot switch it through su - user or ssh, otherwise the password input box will not be displayed and an error will be reported."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"git archive --format=tar 1.0.0-rc01 --prefix=apache-doris-incubating-manager-src-1.0.0-rc01/ | gzip > apache-doris-incubating-manager-src-1.0.0-rc01 .tar.gz\n\ngpg -u xxx@apache.org --armor --output apache-doris-incubating-manager-src-1.0.0-rc01.tar.gz.asc --detach-sign apache-doris-incubating-manager-src- 1.0.0-rc01.tar.gz\n\ngpg --verify apache-doris-incubating-manager-src-1.0.0-rc01.tar.gz.asc apache-doris-incubating-manager-src-1.0.0-rc01.tar.gz\n\nsha512sum apache-doris-incubating-manager-src-1.0.0-rc01.tar.gz > apache-doris-incubating-manager-src-1.0.0-rc01.tar.gz.sha512\n\nsha512sum --check apache-doris-incubating-manager-src-1.0.0-rc01.tar.gz.sha512\n")),(0,r.kt)("p",null,"Then upload the packaged content to the svn repository, first download the svn library:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"svn co https://dist.apache.org/repos/dist/dev/incubator/doris/\n")),(0,r.kt)("p",null,"Organize all the files obtained before into the following svn paths"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"./doris/\n\u251c\u2500\u2500 doris-manager\n\u2502 \u2514\u2500\u2500 1.0.0\n\u2502 \u251c\u2500\u2500 apache-doris-incubating-manager-src-1.0.0-rc01.tar.gz\n\u2502 \u251c\u2500\u2500 apache-doris-incubating-manager-src-1.0.0-rc01.tar.gz.asc\n\u2502 \u2514\u2500\u2500 apache-doris-incubating-manager-src-1.0.0-rc01.tar.gz.sha512\n")),(0,r.kt)("p",null,"upload these files"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},'svn add 1.0.0-rc01\nsvn commit -m "Add doris manager 1.0.0-rc01"\n')),(0,r.kt)("h3",{id:"email-the-community-devdorisapacheorg-to-vote"},"Email the community ",(0,r.kt)("a",{parentName:"h3",href:"mailto:dev@doris.apache.org"},"dev@doris.apache.org")," to vote"),(0,r.kt)("p",null,"[VOTE]"," Release Apache Doris Manager 1.0.0-incubating-rc01"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Hi All,\n\nThis is a call for vote to release Doris Manager v1.0.0 for Apache Doris(Incubating).\n\n- apache-doris-incubating-manager-src-1.0.0-rc01\n\nThe release node:\n\n\n\nThe release candidates:\nhttps://dist.apache.org/repos/dist/dev/incubator/doris/doris-manager/1.0.0/\n\nKeys to verify the Release Candidate:\nhttps://downloads.apache.org/incubator/doris/KEYS\n\nLook at here for how to verify this release candidate:\nhttp://doris.incubator.apache.org/community/release-and-verify/release-verify.html\n\nVote thread at dev@doris: [1]\n\nThe vote will be open for at least 72 hours or until necessary number of votes are reached.\n\nPlease vote accordingly:\n\n[ ] +1 approve\n[ ] +0 no opinion\n[ ] -1 disapprove with the reason\n\n[1] vote thread in dev@doris\n\n\nBrs,\nxxxx\n------------------\nDISCLAIMER:\nApache Doris (incubating) is an effort undergoing incubation at The\nApache Software Foundation (ASF), sponsored by the Apache Incubator PMC.\n\nIncubation is required of all newly accepted\nprojects until a further review indicates that the\ninfrastructure, communications, and decision making process have\nstabilized in a manner consistent with other successful ASF\nprojects.\n\nWhile incubation status is not necessarily a reflection\nof the completeness or stability of the code, it does indicate\nthat the project has yet to be fully endorsed by the ASF.\n\n")),(0,r.kt)("h3",{id:"after-voting-send-result-email"},"After voting, send Result email"),(0,r.kt)("p",null,"[Result][VOTE]"," Release Apache Doris Manager 1.0.0-incubating-rc01"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"Thanks to everyone, and this vote is now closed.\n\nIt has passed with 4 +1 (binding) votes and no 0 or -1 votes.\n\nBinding:\n+1 jiafeng Zhang\n+1 xxx\n+1 EmmyMiao87\n+1 Mingyu Chen\n\nBest Regards,\nxxx\n")),(0,r.kt)("p",null,"After passing the dev mailing group, send an email to the general@incubator mailing group for IPMC voting."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"Hi all,\n\nPlease review and vote on Apache Doris Manager 1.0.0-incubating-rc01 release.\n\nDoris manager is a platform for automatic installation, deployment and management of Doris groups\n\nThe Apache Doris community has voted on and approved this release:\nhttps://lists.apache.org/thread.html/d70f7c8a8ae448bf6680a15914646005c6483564464cfa15f4ddc2fc@%3Cdev.doris.apache.org%3E\n\nThe vote result email thread:\nhttps://lists.apache.org/thread.html/64d229f0ba15d66adc83306bc8d7b7ccd5910ecb7e842718ce6a61da@%3Cdev.doris.apache.org%3E\n\nThe release candidate has been tagged in GitHub as 1.0.0-rc01, available here:\nhttps://github.com/apache/incubator-doris-manager/releases/tag/1.0.0-rc01\n\nThere is no CHANGE LOG file because this is the first release of Apache Doris.\nThanks to everyone who has contributed to this release, and there is a simple release notes can be found here:\nhttps://github.com/apache/incubator-doris/issues/406\n\nThe artifacts (source, signature and checksum) corresponding to this release candidate can be found here:\nhttps://dist.apache.org/repos/dist/dev/incubator/doris/doris-manager/1.0.0/\n\nThis has been signed with PGP key 33DBF2E0, corresponding to lide@apache.org.\nKEYS file is available here:\nhttps://downloads.apache.org/incubator/doris/KEYS\nIt is also listed here:\nhttps://people.apache.org/keys/committer/lide.asc\n\nThe vote will be open for at least 72 hours.\n[ ] +1 Approve the release\n[ ] +0 No opinion\n[ ] -1 Do not release this package because ...\n\nTo verify and build, you can refer to the following instruction:\n\nFirstly, you must be install and start docker service, and then you could build Doris as following steps:\n\n$ wget https://dist.apache.org/repos/dist/dev/incubator/doris/doris-manager/1.0.0/apache-doris-incubating-manager-src-1.0.0-rc01.tar.gz\n\nStep4: Build Doris\nNow you can decompress and enter Doris source path and build Doris.\n$ tar zxvf apache-doris-incubating-manager-src-1.0.0-rc01.tar.gz\n$ cd apache-doris-incubating-manager-src-1.0.0-rc01\n$ sh build.sh\n\nBest Regards,\nxxx\n\n----\nDISCLAIMER:\nApache Doris (incubating) is an effort undergoing incubation at The\nApache Software Foundation (ASF), sponsored by the Apache Incubator PMC.\n\nIncubation is required of all newly accepted\nprojects until a further review indicates that the\ninfrastructure, communications, and decision making process have\nstabilized in a manner consistent with other successful ASF\nprojects.\n\nWhile incubation status is not necessarily a reflection\nof the completeness or stability of the code, it does indicate\nthat the project has yet to be fully endorsed by the ASF.\n")),(0,r.kt)("p",null,"The thread link for the mail can be found here:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"https://lists.apache.org/list.html?dev@doris.apache.org\n")),(0,r.kt)("h3",{id:"send-result-email-to-generalincubatorapacheorg"},"Send Result email to ",(0,r.kt)("a",{parentName:"h3",href:"mailto:general@incubator.apache.org"},"general@incubator.apache.org")),(0,r.kt)("p",null,"[RESULT][VOTE]"," Release Apache Doris Manager 1.0.0-incubating-rc01"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"Hi,\n\nThanks to everyone, and the vote for releasing Apache Doris Manager 1.0.0-incubating-rc01 is now closed.\n\nIt has passed with 4 +1 (binding) votes and no 0 or -1 votes.\n\nBinding:\n+1 Willem Jiang\n+1 Justin Mclean\n+1 ShaoFeng Shi\n+1 Makoto Yui\n\nThe vote thread:\nhttps://lists.apache.org/thread.html/da05fdd8d84e35de527f27200b5690d7811a1e97d419d1ea66562130@%3Cgeneral.incubator.apache.org%3E\n\nBest Regards,\nxxx\n")),(0,r.kt)("h2",{id:"finish-publishing"},"Finish publishing"),(0,r.kt)("p",null,"Please refer to the ",(0,r.kt)("a",{parentName:"p",href:"../release-complete"},"Completing the Release")," documentation to complete all release processes."))}h.isMDXComponent=!0}}]);